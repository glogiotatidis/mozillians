{% extends "base.html" %}

{% block page_title %}{{ _('Group Listing') }}{% endblock %}
{% block body_id %}group-index{% endblock %}
{% block body_classes %}box-content{% endblock %}

{% block content %}
  {% if groups %}
    <h1>{{ _('Group Listing') }}</h1>

    <div class="sort">
        <form method="get" action="{{ request.path }}">
            <input type="hidden" name="page" value="{{ page }}" />
            <label for="sort">Sort by:</label>
            <select name="sort">
                {% for key, value in sort_choices.items() %}
                <option value="{{ key }}"
                        {% if sort_by == key %}
                        selected="selected"
                        {% endif %}
                        >{{ value }}</option>
                {% endfor %}
            </select>
            <input type="submit" class="btn" value="Sort" />
        </form>
    </div>

    <p>
      {% trans %}
        Mozillians work on all sorts of different things! From Add-on
        developers to localizers, find Mozillians who work on similar things
        using user-created groups.
      {% endtrans %}
    </p>

    <ul id="groups" class="group-list">
      {% for group in groups %}
        <li class="group-item">
          <a href="{{ url('group', group.url) }}" class="group-name">
            {{ group.name }}
          </a>  &mdash;
          <span>
              <i class="icon-user-md"></i>{{ group.members.vouched().count() }}
          </span>
        </li>
      {% endfor %}
    </ul>

    <div class="pagination">
      <span class="step-links">
        {% if groups.has_previous() %}
          <a href="?page={{ groups.previous_page_number() }}">
            {{ _('Back') }}
          </a>
        {% endif %}

        <span class="current">
          {{ groups.number }} / {{ groups.paginator.num_pages }}
        </span>

        {% if groups.has_next() %}
          <a href="?page={{ groups.next_page_number() }}">
            {{ _('Next') }}
          </a>
        {% endif %}
      </span>
    </div>
  {% endif %}
{% endblock content %}
